import{rectToClientRect as t,computePosition as g}from"@floating-ui/core";export{arrow,autoPlacement,detectOverflow,flip,hide,inline,limitShift,offset,shift,size}from"@floating-ui/core";function n(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function o(t){if(null==t)return window;if(!n(t)){const g=t.ownerDocument;return g&&g.defaultView||window}return t}function i(t){return o(t).getComputedStyle(t)}function r(t){return n(t)?"":t?(t.nodeName||"").toLowerCase():""}function l(){const t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((t=>t.brand+"/"+t.version)).join(" "):navigator.userAgent}function c(t){return t instanceof o(t).HTMLElement}function f(t){return t instanceof o(t).Element}function s(t){return"undefined"!=typeof ShadowRoot&&(t instanceof o(t).ShadowRoot||t instanceof ShadowRoot)}function u(t){const{overflow:g,overflowX:p,overflowY:m}=i(t);return/auto|scroll|overlay|hidden/.test(g+m+p)}function d(t){return["table","td","th"].includes(r(t))}function h(t){const g=/firefox/i.test(l()),p=i(t);return"none"!==p.transform||"none"!==p.perspective||"paint"===p.contain||["transform","perspective"].includes(p.willChange)||g&&"filter"===p.willChange||g&&!!p.filter&&"none"!==p.filter}function a(){return!/^((?!chrome|android).)*safari/i.test(l())}const p=Math.min,m=Math.max,D=Math.round;function w(t,g,p){var m,A,O,P;void 0===g&&(g=!1),void 0===p&&(p=!1);const V=t.getBoundingClientRect();let M=1,F=1;g&&c(t)&&(M=t.offsetWidth>0&&D(V.width)/t.offsetWidth||1,F=t.offsetHeight>0&&D(V.height)/t.offsetHeight||1);const B=f(t)?o(t):window,X=!a()&&p,Y=(V.left+(X&&null!=(m=null==(A=B.visualViewport)?void 0:A.offsetLeft)?m:0))/M,j=(V.top+(X&&null!=(O=null==(P=B.visualViewport)?void 0:P.offsetTop)?O:0))/F,q=V.width/M,I=V.height/F;return{width:q,height:I,top:j,right:Y+q,bottom:j+I,left:Y,x:Y,y:j}}function v(t){return(g=t,(g instanceof o(g).Node?t.ownerDocument:t.document)||window.document).documentElement;var g}function y(t){return f(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function x(t){return w(v(t)).left+y(t).scrollLeft}function b(t,g,p){const m=c(g),A=v(g),O=w(t,m&&function(t){const g=w(t);return D(g.width)!==t.offsetWidth||D(g.height)!==t.offsetHeight}(g),"fixed"===p);let P={scrollLeft:0,scrollTop:0};const V={x:0,y:0};if(m||!m&&"fixed"!==p)if(("body"!==r(g)||u(A))&&(P=y(g)),c(g)){const t=w(g,!0);V.x=t.x+g.clientLeft,V.y=t.y+g.clientTop}else A&&(V.x=x(A));return{x:O.left+P.scrollLeft-V.x,y:O.top+P.scrollTop-V.y,width:O.width,height:O.height}}function L(t){return"html"===r(t)?t:t.assignedSlot||t.parentNode||(s(t)?t.host:null)||v(t)}function R(t){return c(t)&&"fixed"!==getComputedStyle(t).position?t.offsetParent:null}function T(t){const g=o(t);let p=R(t);for(;p&&d(p)&&"static"===getComputedStyle(p).position;)p=R(p);return p&&("html"===r(p)||"body"===r(p)&&"static"===getComputedStyle(p).position&&!h(p))?g:p||function(t){let g=L(t);for(s(g)&&(g=g.host);c(g)&&!["html","body"].includes(r(g));){if(h(g))return g;g=g.parentNode}return null}(t)||g}function W(t){if(c(t))return{width:t.offsetWidth,height:t.offsetHeight};const g=w(t);return{width:g.width,height:g.height}}function E(t){const g=L(t);return["html","body","#document"].includes(r(g))?t.ownerDocument.body:c(g)&&u(g)?g:E(g)}function H(t,g){var p;void 0===g&&(g=[]);const m=E(t),D=m===(null==(p=t.ownerDocument)?void 0:p.body),A=o(m),O=D?[A].concat(A.visualViewport||[],u(m)?m:[]):m,P=g.concat(O);return D?P:P.concat(H(O))}function C(g,p,D){return"viewport"===p?t(function(t,g){const p=o(t),m=v(t),D=p.visualViewport;let A=m.clientWidth,O=m.clientHeight,P=0,V=0;if(D){A=D.width,O=D.height;const t=a();(t||!t&&"fixed"===g)&&(P=D.offsetLeft,V=D.offsetTop)}return{width:A,height:O,x:P,y:V}}(g,D)):f(p)?function(t,g){const p=w(t,!1,"fixed"===g),m=p.top+t.clientTop,D=p.left+t.clientLeft;return{top:m,left:D,x:D,y:m,right:D+t.clientWidth,bottom:m+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(p,D):t(function(t){var g;const p=v(t),D=y(t),A=null==(g=t.ownerDocument)?void 0:g.body,O=m(p.scrollWidth,p.clientWidth,A?A.scrollWidth:0,A?A.clientWidth:0),P=m(p.scrollHeight,p.clientHeight,A?A.scrollHeight:0,A?A.clientHeight:0);let V=-D.scrollLeft+x(t);const M=-D.scrollTop;return"rtl"===i(A||p).direction&&(V+=m(p.clientWidth,A?A.clientWidth:0)-O),{width:O,height:P,x:V,y:M}}(v(g)))}function S(t){const g=H(t),p=["absolute","fixed"].includes(i(t).position)&&c(t)?T(t):t;return f(p)?g.filter((t=>f(t)&&function(t,g){const p=null==g.getRootNode?void 0:g.getRootNode();if(t.contains(g))return!0;if(p&&s(p)){let p=g;do{if(p&&t===p)return!0;p=p.parentNode||p.host}while(p)}return!1}(t,p)&&"body"!==r(t))):[]}const A={getClippingRect:function(t){let{element:g,boundary:D,rootBoundary:A,strategy:O}=t;const P=[..."clippingAncestors"===D?S(g):[].concat(D),A],V=P[0],M=P.reduce(((t,D)=>{const A=C(g,D,O);return t.top=m(A.top,t.top),t.right=p(A.right,t.right),t.bottom=p(A.bottom,t.bottom),t.left=m(A.left,t.left),t}),C(g,V,O));return{width:M.right-M.left,height:M.bottom-M.top,x:M.left,y:M.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:g,offsetParent:p,strategy:m}=t;const D=c(p),A=v(p);if(p===A)return g;let O={scrollLeft:0,scrollTop:0};const P={x:0,y:0};if((D||!D&&"fixed"!==m)&&(("body"!==r(p)||u(A))&&(O=y(p)),c(p))){const t=w(p,!0);P.x=t.x+p.clientLeft,P.y=t.y+p.clientTop}return{...g,x:g.x-O.scrollLeft+P.x,y:g.y-O.scrollTop+P.y}},isElement:f,getDimensions:W,getOffsetParent:T,getDocumentElement:v,getElementRects:t=>{let{reference:g,floating:p,strategy:m}=t;return{reference:b(g,T(p),m),floating:{...W(p),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===i(t).direction};function N(t,g,p,m){void 0===m&&(m={});const{ancestorScroll:D=!0,ancestorResize:A=!0,elementResize:O=!0,animationFrame:P=!1}=m,V=D&&!P,M=A&&!P,F=V||M?[...f(t)?H(t):[],...H(g)]:[];F.forEach((t=>{V&&t.addEventListener("scroll",p,{passive:!0}),M&&t.addEventListener("resize",p)}));let B,X=null;if(O){let m=!0;X=new ResizeObserver((()=>{m||p(),m=!1})),f(t)&&!P&&X.observe(t),X.observe(g)}let Y=P?w(t):null;return P&&function e(){const g=w(t);!Y||g.x===Y.x&&g.y===Y.y&&g.width===Y.width&&g.height===Y.height||p();Y=g,B=requestAnimationFrame(e)}(),p(),()=>{var t;F.forEach((t=>{V&&t.removeEventListener("scroll",p),M&&t.removeEventListener("resize",p)})),null==(t=X)||t.disconnect(),X=null,P&&cancelAnimationFrame(B)}}const z=(t,p,m)=>g(t,p,{platform:A,...m});export{N as autoUpdate,z as computePosition,H as getOverflowAncestors};

